# =============================================================================
# PASTITA + WA BUSINESS - CONFIGURAÇÃO INTEGRADA
# =============================================================================
# Copie este arquivo para .env e preencha com seus valores reais
# =============================================================================

# -----------------------------------------------------------------------------
# DJANGO SETTINGS
# -----------------------------------------------------------------------------
DJANGO_SECRET_KEY=your-secret-key-here-change-in-production
DJANGO_DEBUG=True
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1,pastita.com.br,www.pastita.com.br

# -----------------------------------------------------------------------------
# DATABASE - PostgreSQL/Supabase
# -----------------------------------------------------------------------------
# Use DATABASE_URL para produção (Railway, Supabase, etc)
DATABASE_URL=postgresql://user:password@host:5432/dbname

# Ou configuração individual
DB_ENGINE=django.db.backends.postgresql
DB_NAME=postgres
DB_USER=your-db-user
DB_PASSWORD=your-db-password
DB_HOST=your-db-host
DB_PORT=5432

# -----------------------------------------------------------------------------
# REDIS (obrigatório para Celery e WebSocket em produção)
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/1
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# WHATSAPP BUSINESS API (Meta Developer Portal)
# -----------------------------------------------------------------------------
# Obtenha em: https://developers.facebook.com/apps/
WHATSAPP_API_VERSION=v18.0
WHATSAPP_WEBHOOK_VERIFY_TOKEN=your-verify-token-here
WHATSAPP_APP_SECRET=your-app-secret-here

# -----------------------------------------------------------------------------
# MERCADO PAGO (Pagamentos)
# -----------------------------------------------------------------------------
MERCADO_PAGO_ACCESS_TOKEN=your-mercado-pago-access-token
MERCADO_PAGO_WEBHOOK_SECRET=your-webhook-secret
MERCADO_PAGO_STATEMENT_DESCRIPTOR=PASTITA

# -----------------------------------------------------------------------------
# META PIXEL (Conversions API)
# -----------------------------------------------------------------------------
# Pixel ID (numeric) and CAPI access token (server-side only)
META_PIXEL_ID=
META_CAPI_ACCESS_TOKEN=
# Optional: test event code from Events Manager > Test events
META_CAPI_TEST_EVENT_CODE=
# Optional: API version
META_CAPI_VERSION=v20.0

# -----------------------------------------------------------------------------
# AWS S3 (Storage de imagens)
# -----------------------------------------------------------------------------
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_STORAGE_BUCKET_NAME=your-bucket-name
AWS_S3_REGION_NAME=sa-east-1

# -----------------------------------------------------------------------------
# RESEND (Email notifications)
# -----------------------------------------------------------------------------
RESEND_API_KEY=re_your_api_key_here
RESEND_FROM_EMAIL=contato@pastita.com.br
RESEND_FROM_NAME=Pastita

# -----------------------------------------------------------------------------
# LANGFLOW (IA/LLM - opcional)
# -----------------------------------------------------------------------------
LANGFLOW_API_URL=http://localhost:7860
LANGFLOW_API_KEY=your-langflow-api-key

# -----------------------------------------------------------------------------
# URLs DA APLICAÇÃO
# -----------------------------------------------------------------------------
BACKEND_URL=http://localhost:8000
FRONTEND_URL=https://pastita.com.br
DASHBOARD_URL=http://localhost:3000
PANEL_WEBHOOK_URL=
ECOMMERCE_DEFAULT_ACCOUNT_ID=

# -----------------------------------------------------------------------------
# CORS (Cross-Origin Resource Sharing)
# -----------------------------------------------------------------------------
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000,https://pastita.com.br

# -----------------------------------------------------------------------------
# DELIVERY (Cálculo por KM)
# -----------------------------------------------------------------------------
VIACEP_URL=https://viacep.com.br/ws/{zip}/json/
GEOCODE_URL=https://nominatim.openstreetmap.org/search
GEOCODE_USER_AGENT=pastita-delivery/1.0
OSRM_URL=https://router.project-osrm.org/route/v1/driving
DELIVERY_GEO_TIMEOUT=10
DEFAULT_DELIVERY_FEE=15.00

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=True
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# -----------------------------------------------------------------------------
# SEGURANÇA
# -----------------------------------------------------------------------------
SECURE_SSL_REDIRECT=False


# =============================================================================
# NOTAS
# =============================================================================
# 1. REDIS: Obrigatório para Celery/WebSocket em produção
# 2. MERCADO PAGO: Webhook URL = {BACKEND_URL}/webhooks/payments/mercadopago/
# 3. WHATSAPP: Webhook URL = {BACKEND_URL}/webhooks/whatsapp/
# 4. LANGFLOW: Opcional, para respostas com IA
# =============================================================================
