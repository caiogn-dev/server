[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile.langflow"

[deploy]
startCommand = "python -m langflow run --host 0.0.0.0 --port ${PORT} --workers 1 --log-level info"
healthcheckPath = "/api/v1/health"
healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 5
numReplicas = 1

[deploy.envVars]
LANGFLOW_HOST = "0.0.0.0"
LANGFLOW_PORT = "${PORT}"
LANGFLOW_WORKERS = "1"
LANGFLOW_AUTO_LOGIN = "true"
LANGFLOW_DO_NOT_TRACK = "true"
