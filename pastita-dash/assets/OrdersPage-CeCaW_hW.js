import{j as d}from"./vendor-charts-o9Lo7m6Z.js";import{r as i,R as _,b as We,e as Zn,u as er}from"./vendor-react-C2HNIXra.js";import{z as tr,a2 as ln,af as Ut,av as nr,aw as dn,F as rr,ag as or,M as un,aa as fn,p as gn,ar as sr,ax as ar,ay as ir,d as cr,an as Q,R as q,Z as Pe,$ as lr,a0 as dr,az as ur,aA as fr,f as gr,aB as pr,X as de,ak as hr,E as mr,aC as vr,a4 as br,a7 as xr,ah as Rt,W as at,au as Yt,aD as yr,C as wr,D as Sr}from"./feature-automation-CLWK1V5x.js";import{g as pn}from"./vendor-utils-DaXQUBrP.js";import{a as Cr}from"./index-DQDVHdIA.js";import"./vendor-ui-B9rDAafI.js";import"./vendor-mui-DKuE-Kg_.js";const Rr=(e={})=>{const{isConnected:t,error:n,on:r}=Cr(),o=i.useRef(e);return o.current=e,i.useEffect(()=>{if(e.enabled===!1)return;const s=[r("order_created",a=>o.current.onOrderCreated?.(a)),r("order_updated",a=>{o.current.onOrderUpdated?.(a),o.current.onStatusChanged?.(a)}),r("order_cancelled",a=>o.current.onStatusChanged?.({...a,status:"cancelled"})),r("payment_received",a=>o.current.onPaymentReceived?.(a))];return()=>s.forEach(a=>a())},[r,e.enabled]),{isConnected:t,connectionError:n}},Vt=[659.25,783.99,987.77,1174.66],Wt=[523.25,783.99],Dr=(e={})=>{const{enabled:t=!0,volume:n=1}=e,r=i.useRef(null),o=i.useRef(void 0),[s,a]=i.useState(!1),[c,l]=i.useState(!1),u=i.useCallback(()=>{if(r.current&&r.current.state!=="closed")return r.current.state==="suspended"&&r.current.resume().then(()=>{console.log("[Sound] AudioContext resumed")}),r.current;try{return r.current=new(window.AudioContext||window.webkitAudioContext),l(!0),console.log("[Sound] AudioContext initialized, state:",r.current.state),r.current}catch(h){return console.error("[Sound] Failed to create AudioContext:",h),null}},[]);i.useEffect(()=>{const h=()=>{u(),"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(C=>console.log("[Sound] Notification permission:",C))};return document.addEventListener("click",h,{once:!0}),document.addEventListener("keydown",h,{once:!0}),()=>{document.removeEventListener("click",h),document.removeEventListener("keydown",h),o.current&&window.clearInterval(o.current)}},[u]);const f=i.useCallback((h,C,R,m)=>{const x=r.current;if(x)try{const S=x.createOscillator(),y=x.createGain();S.connect(y),y.connect(x.destination),S.type="sine",S.frequency.setValueAtTime(h,R),y.gain.setValueAtTime(0,R),y.gain.linearRampToValueAtTime(m,R+.02),y.gain.exponentialRampToValueAtTime(.001,R+C),S.start(R),S.stop(R+C)}catch(S){console.error("[Sound] playTone error:",S)}},[]),p=i.useCallback(async()=>{let h=r.current;if(!h&&(h=u(),!h)){console.error("[Sound] No AudioContext available");return}h.state==="suspended"&&(console.log("[Sound] Resuming suspended AudioContext..."),await h.resume(),console.log("[Sound] AudioContext resumed, state:",h.state));const C=h.currentTime;console.log("[Sound] Playing at time:",C,"state:",h.state),Vt.forEach((R,m)=>{f(R,.3,C+m*.12,n*.7)}),Vt.forEach((R,m)=>{f(R,.25,C+.7+m*.1,n*.5)}),console.log("[Sound] Order sound scheduled")},[u,f,n]),b=i.useCallback(()=>{o.current&&(window.clearInterval(o.current),o.current=void 0),a(!1),console.log("[Sound] Alert stopped")},[]),v=i.useCallback(()=>{if(!t){console.log("[Sound] Disabled, not playing");return}if(console.log("[Sound] playOrderSound called"),p(),s||(a(!0),o.current=window.setInterval(p,4e3),window.setTimeout(()=>{b()},3e4)),"Notification"in window&&Notification.permission==="granted")try{new Notification("ðŸ Novo Pedido!",{body:"VocÃª tem um novo pedido para processar",icon:"/favicon.ico",tag:"new-order",requireInteraction:!0})}catch(h){console.error("[Sound] Notification error:",h)}},[t,p,s,b]),k=i.useCallback(()=>{if(!t)return;let h=r.current;if(!h&&(h=u(),!h))return;h.state==="suspended"&&h.resume();const C=h.currentTime;f(Wt[0],.15,C,n*.4),f(Wt[1],.3,C+.15,n*.45),console.log("[Sound] Playing success sound")},[t,u,f,n]);return{playOrderSound:v,playSuccessSound:k,playNotificationSound:v,stopAlert:b,isAlertActive:s,isInitialized:c,initAudio:u}};function Er(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const mt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _e(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Mt(e){return"nodeType"in e}function G(e){var t,n;return e?_e(e)?e:Mt(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Tt(e){const{Document:t}=G(e);return e instanceof t}function et(e){return _e(e)?!1:e instanceof G(e).HTMLElement}function hn(e){return e instanceof G(e).SVGElement}function $e(e){return e?_e(e)?e.document:Mt(e)?Tt(e)?e:et(e)||hn(e)?e.ownerDocument:document:document:document}const ue=mt?i.useLayoutEffect:i.useEffect;function vt(e){const t=i.useRef(e);return ue(()=>{t.current=e}),i.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Nr(){const e=i.useRef(null),t=i.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=i.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Je(e,t){t===void 0&&(t=[e]);const n=i.useRef(e);return ue(()=>{n.current!==e&&(n.current=e)},t),n}function tt(e,t){const n=i.useRef();return i.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function dt(e){const t=vt(e),n=i.useRef(null),r=i.useCallback(o=>{o!==n.current&&t?.(o,n.current),n.current=o},[]);return[n,r]}function ut(e){const t=i.useRef();return i.useEffect(()=>{t.current=e},[e]),t.current}let Dt={};function nt(e,t){return i.useMemo(()=>{if(t)return t;const n=Dt[e]==null?0:Dt[e]+1;return Dt[e]=n,e+"-"+n},[e,t])}function mn(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((s,a)=>{const c=Object.entries(a);for(const[l,u]of c){const f=s[l];f!=null&&(s[l]=f+e*u)}return s},{...t})}}const ze=mn(1),Qe=mn(-1);function kr(e){return"clientX"in e&&"clientY"in e}function bt(e){if(!e)return!1;const{KeyboardEvent:t}=G(e.target);return t&&e instanceof t}function Or(e){if(!e)return!1;const{TouchEvent:t}=G(e.target);return t&&e instanceof t}function ft(e){if(Or(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return kr(e)?{x:e.clientX,y:e.clientY}:null}const je=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[je.Translate.toString(e),je.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Ht="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function jr(e){return e.matches(Ht)?e:e.querySelector(Ht)}const Ar={display:"none"};function Ir(e){let{id:t,value:n}=e;return _.createElement("div",{id:t,style:Ar},n)}function Mr(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return _.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function Tr(){const[e,t]=i.useState("");return{announce:i.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const vn=i.createContext(null);function Pr(e){const t=i.useContext(vn);i.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Lr(){const[e]=i.useState(()=>new Set),t=i.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[i.useCallback(r=>{let{type:o,event:s}=r;e.forEach(a=>{var c;return(c=a[o])==null?void 0:c.call(a,s)})},[e]),t]}const zr={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},_r={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function $r(e){let{announcements:t=_r,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=zr}=e;const{announce:s,announcement:a}=Tr(),c=nt("DndLiveRegion"),[l,u]=i.useState(!1);if(i.useEffect(()=>{u(!0)},[]),Pr(i.useMemo(()=>({onDragStart(p){let{active:b}=p;s(t.onDragStart({active:b}))},onDragMove(p){let{active:b,over:v}=p;t.onDragMove&&s(t.onDragMove({active:b,over:v}))},onDragOver(p){let{active:b,over:v}=p;s(t.onDragOver({active:b,over:v}))},onDragEnd(p){let{active:b,over:v}=p;s(t.onDragEnd({active:b,over:v}))},onDragCancel(p){let{active:b,over:v}=p;s(t.onDragCancel({active:b,over:v}))}}),[s,t])),!l)return null;const f=_.createElement(_.Fragment,null,_.createElement(Ir,{id:r,value:o.draggable}),_.createElement(Mr,{id:c,announcement:a}));return n?We.createPortal(f,n):f}var $;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})($||($={}));function gt(){}function qt(e,t){return i.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Fr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const fe=Object.freeze({x:0,y:0});function Br(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Xr(e,t){const n=ft(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function Kr(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Ur(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Gt(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function bn(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}const xn=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Gt(t),s=[];for(const a of r){const{id:c}=a,l=n.get(c);if(l){const u=Gt(l),f=o.reduce((b,v,k)=>b+Br(u[k],v),0),p=Number((f/4).toFixed(4));s.push({id:c,data:{droppableContainer:a,value:p}})}}return s.sort(Kr)};function Yr(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),a=o-r,c=s-n;if(r<o&&n<s){const l=t.width*t.height,u=e.width*e.height,f=a*c,p=f/(l+u-f);return Number(p.toFixed(4))}return 0}const Vr=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const s of r){const{id:a}=s,c=n.get(a);if(c){const l=Yr(c,t);l>0&&o.push({id:a,data:{droppableContainer:s,value:l}})}}return o.sort(Ur)};function Wr(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function yn(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:fe}function Hr(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return o.reduce((a,c)=>({...a,top:a.top+e*c.y,bottom:a.bottom+e*c.y,left:a.left+e*c.x,right:a.right+e*c.x}),{...n})}}const qr=Hr(1);function wn(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Gr(e,t,n){const r=wn(t);if(!r)return e;const{scaleX:o,scaleY:s,x:a,y:c}=r,l=e.left-a-(1-o)*parseFloat(n),u=e.top-c-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),f=o?e.width/o:e.width,p=s?e.height/s:e.height;return{width:f,height:p,top:u,right:l+f,bottom:u+p,left:l}}const Jr={ignoreTransform:!1};function Fe(e,t){t===void 0&&(t=Jr);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:f}=G(e).getComputedStyle(e);u&&(n=Gr(n,u,f))}const{top:r,left:o,width:s,height:a,bottom:c,right:l}=n;return{top:r,left:o,width:s,height:a,bottom:c,right:l}}function Jt(e){return Fe(e,{ignoreTransform:!0})}function Qr(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Zr(e,t){return t===void 0&&(t=G(e).getComputedStyle(e)),t.position==="fixed"}function eo(e,t){t===void 0&&(t=G(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const s=t[o];return typeof s=="string"?n.test(s):!1})}function xt(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(Tt(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!et(o)||hn(o)||n.includes(o))return n;const s=G(e).getComputedStyle(o);return o!==e&&eo(o,s)&&n.push(o),Zr(o,s)?n:r(o.parentNode)}return e?r(e):n}function Sn(e){const[t]=xt(e,1);return t??null}function Et(e){return!mt||!e?null:_e(e)?e:Mt(e)?Tt(e)||e===$e(e).scrollingElement?window:et(e)?e:null:null}function Cn(e){return _e(e)?e.scrollX:e.scrollLeft}function Rn(e){return _e(e)?e.scrollY:e.scrollTop}function jt(e){return{x:Cn(e),y:Rn(e)}}var F;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(F||(F={}));function Dn(e){return!mt||!e?!1:e===document.scrollingElement}function En(e){const t={x:0,y:0},n=Dn(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,c=e.scrollLeft>=r.x;return{isTop:o,isLeft:s,isBottom:a,isRight:c,maxScroll:r,minScroll:t}}const to={x:.2,y:.2};function no(e,t,n,r,o){let{top:s,left:a,right:c,bottom:l}=n;r===void 0&&(r=10),o===void 0&&(o=to);const{isTop:u,isBottom:f,isLeft:p,isRight:b}=En(e),v={x:0,y:0},k={x:0,y:0},w={height:t.height*o.y,width:t.width*o.x};return!u&&s<=t.top+w.height?(v.y=F.Backward,k.y=r*Math.abs((t.top+w.height-s)/w.height)):!f&&l>=t.bottom-w.height&&(v.y=F.Forward,k.y=r*Math.abs((t.bottom-w.height-l)/w.height)),!b&&c>=t.right-w.width?(v.x=F.Forward,k.x=r*Math.abs((t.right-w.width-c)/w.width)):!p&&a<=t.left+w.width&&(v.x=F.Backward,k.x=r*Math.abs((t.left+w.width-a)/w.width)),{direction:v,speed:k}}function ro(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Nn(e){return e.reduce((t,n)=>ze(t,jt(n)),fe)}function oo(e){return e.reduce((t,n)=>t+Cn(n),0)}function so(e){return e.reduce((t,n)=>t+Rn(n),0)}function kn(e,t){if(t===void 0&&(t=Fe),!e)return;const{top:n,left:r,bottom:o,right:s}=t(e);Sn(e)&&(o<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const ao=[["x",["left","right"],oo],["y",["top","bottom"],so]];class Pt{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=xt(n),o=Nn(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,a,c]of ao)for(const l of a)Object.defineProperty(this,l,{get:()=>{const u=c(r),f=o[s]-u;return this.rect[l]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class He{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function io(e){const{EventTarget:t}=G(e);return e instanceof t?e:$e(e)}function Nt(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ae;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ae||(ae={}));function Qt(e){e.preventDefault()}function co(e){e.stopPropagation()}var A;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(A||(A={}));const On={start:[A.Space,A.Enter],cancel:[A.Esc],end:[A.Space,A.Enter,A.Tab]},lo=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case A.Right:return{...n,x:n.x+25};case A.Left:return{...n,x:n.x-25};case A.Down:return{...n,y:n.y+25};case A.Up:return{...n,y:n.y-25}}};class Lt{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new He($e(n)),this.windowListeners=new He(G(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ae.Resize,this.handleCancel),this.windowListeners.add(ae.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ae.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&kn(r),n(fe)}handleKeyDown(t){if(bt(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:s=On,coordinateGetter:a=lo,scrollBehavior:c="smooth"}=o,{code:l}=t;if(s.end.includes(l)){this.handleEnd(t);return}if(s.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:u}=r.current,f=u?{x:u.left,y:u.top}:fe;this.referenceCoordinates||(this.referenceCoordinates=f);const p=a(t,{active:n,context:r.current,currentCoordinates:f});if(p){const b=Qe(p,f),v={x:0,y:0},{scrollableAncestors:k}=r.current;for(const w of k){const h=t.code,{isTop:C,isRight:R,isLeft:m,isBottom:x,maxScroll:S,minScroll:y}=En(w),N=ro(w),D={x:Math.min(h===A.Right?N.right-N.width/2:N.right,Math.max(h===A.Right?N.left:N.left+N.width/2,p.x)),y:Math.min(h===A.Down?N.bottom-N.height/2:N.bottom,Math.max(h===A.Down?N.top:N.top+N.height/2,p.y))},O=h===A.Right&&!R||h===A.Left&&!m,T=h===A.Down&&!x||h===A.Up&&!C;if(O&&D.x!==p.x){const j=w.scrollLeft+b.x,B=h===A.Right&&j<=S.x||h===A.Left&&j>=y.x;if(B&&!b.y){w.scrollTo({left:j,behavior:c});return}B?v.x=w.scrollLeft-j:v.x=h===A.Right?w.scrollLeft-S.x:w.scrollLeft-y.x,v.x&&w.scrollBy({left:-v.x,behavior:c});break}else if(T&&D.y!==p.y){const j=w.scrollTop+b.y,B=h===A.Down&&j<=S.y||h===A.Up&&j>=y.y;if(B&&!b.x){w.scrollTo({top:j,behavior:c});return}B?v.y=w.scrollTop-j:v.y=h===A.Down?w.scrollTop-S.y:w.scrollTop-y.y,v.y&&w.scrollBy({top:-v.y,behavior:c});break}}this.handleMove(t,ze(Qe(p,this.referenceCoordinates),v))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Lt.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=On,onActivation:o}=t,{active:s}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const c=s.activatorNode.current;return c&&e.target!==c?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function Zt(e){return!!(e&&"distance"in e)}function en(e){return!!(e&&"delay"in e)}class zt{constructor(t,n,r){var o;r===void 0&&(r=io(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:a}=s;this.props=t,this.events=n,this.document=$e(a),this.documentListeners=new He(this.document),this.listeners=new He(r),this.windowListeners=new He(G(a)),this.initialCoordinates=(o=ft(s))!=null?o:fe,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ae.Resize,this.handleCancel),this.windowListeners.add(ae.DragStart,Qt),this.windowListeners.add(ae.VisibilityChange,this.handleCancel),this.windowListeners.add(ae.ContextMenu,Qt),this.documentListeners.add(ae.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(en(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Zt(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ae.Click,co,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ae.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:s}=this,{onMove:a,options:{activationConstraint:c}}=s;if(!o)return;const l=(n=ft(t))!=null?n:fe,u=Qe(o,l);if(!r&&c){if(Zt(c)){if(c.tolerance!=null&&Nt(u,c.tolerance))return this.handleCancel();if(Nt(u,c.distance))return this.handleStart()}if(en(c)&&Nt(u,c.tolerance))return this.handleCancel();this.handlePending(c,u);return}t.cancelable&&t.preventDefault(),a(l)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===A.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const uo={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class _t extends zt{constructor(t){const{event:n}=t,r=$e(n.target);super(t,uo,r)}}_t.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const fo={move:{name:"mousemove"},end:{name:"mouseup"}};var At;(function(e){e[e.RightClick=2]="RightClick"})(At||(At={}));class go extends zt{constructor(t){super(t,fo,$e(t.event.target))}}go.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===At.RightClick?!1:(r?.({event:n}),!0)}}];const kt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class po extends zt{constructor(t){super(t,kt)}static setup(){return window.addEventListener(kt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(kt.move.name,t)};function t(){}}}po.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r?.({event:n}),!0)}}];var qe;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(qe||(qe={}));var pt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(pt||(pt={}));function ho(e){let{acceleration:t,activator:n=qe.Pointer,canScroll:r,draggingRect:o,enabled:s,interval:a=5,order:c=pt.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:f,delta:p,threshold:b}=e;const v=vo({delta:p,disabled:!s}),[k,w]=Nr(),h=i.useRef({x:0,y:0}),C=i.useRef({x:0,y:0}),R=i.useMemo(()=>{switch(n){case qe.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case qe.DraggableRect:return o}},[n,o,l]),m=i.useRef(null),x=i.useCallback(()=>{const y=m.current;if(!y)return;const N=h.current.x*C.current.x,D=h.current.y*C.current.y;y.scrollBy(N,D)},[]),S=i.useMemo(()=>c===pt.TreeOrder?[...u].reverse():u,[c,u]);i.useEffect(()=>{if(!s||!u.length||!R){w();return}for(const y of S){if(r?.(y)===!1)continue;const N=u.indexOf(y),D=f[N];if(!D)continue;const{direction:O,speed:T}=no(y,D,R,t,b);for(const j of["x","y"])v[j][O[j]]||(T[j]=0,O[j]=0);if(T.x>0||T.y>0){w(),m.current=y,k(x,a),h.current=T,C.current=O;return}}h.current={x:0,y:0},C.current={x:0,y:0},w()},[t,x,r,w,s,a,JSON.stringify(R),JSON.stringify(v),k,u,S,f,JSON.stringify(b)])}const mo={x:{[F.Backward]:!1,[F.Forward]:!1},y:{[F.Backward]:!1,[F.Forward]:!1}};function vo(e){let{delta:t,disabled:n}=e;const r=ut(t);return tt(o=>{if(n||!r||!o)return mo;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[F.Backward]:o.x[F.Backward]||s.x===-1,[F.Forward]:o.x[F.Forward]||s.x===1},y:{[F.Backward]:o.y[F.Backward]||s.y===-1,[F.Forward]:o.y[F.Forward]||s.y===1}}},[n,t,r])}function bo(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return tt(o=>{var s;return t==null?null:(s=r??o)!=null?s:null},[r,t])}function xo(e,t){return i.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,s=o.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...s]},[]),[e,t])}var Ze;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ze||(Ze={}));var It;(function(e){e.Optimized="optimized"})(It||(It={}));const tn=new Map;function yo(e,t){let{dragging:n,dependencies:r,config:o}=t;const[s,a]=i.useState(null),{frequency:c,measure:l,strategy:u}=o,f=i.useRef(e),p=h(),b=Je(p),v=i.useCallback(function(C){C===void 0&&(C=[]),!b.current&&a(R=>R===null?C:R.concat(C.filter(m=>!R.includes(m))))},[b]),k=i.useRef(null),w=tt(C=>{if(p&&!n)return tn;if(!C||C===tn||f.current!==e||s!=null){const R=new Map;for(let m of e){if(!m)continue;if(s&&s.length>0&&!s.includes(m.id)&&m.rect.current){R.set(m.id,m.rect.current);continue}const x=m.node.current,S=x?new Pt(l(x),x):null;m.rect.current=S,S&&R.set(m.id,S)}return R}return C},[e,s,n,p,l]);return i.useEffect(()=>{f.current=e},[e]),i.useEffect(()=>{p||v()},[n,p]),i.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),i.useEffect(()=>{p||typeof c!="number"||k.current!==null||(k.current=setTimeout(()=>{v(),k.current=null},c))},[c,p,v,...r]),{droppableRects:w,measureDroppableContainers:v,measuringScheduled:s!=null};function h(){switch(u){case Ze.Always:return!1;case Ze.BeforeDragging:return n;default:return!n}}}function $t(e,t){return tt(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function wo(e,t){return $t(e,t)}function So(e){let{callback:t,disabled:n}=e;const r=vt(t),o=i.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return i.useEffect(()=>()=>o?.disconnect(),[o]),o}function yt(e){let{callback:t,disabled:n}=e;const r=vt(t),o=i.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return i.useEffect(()=>()=>o?.disconnect(),[o]),o}function Co(e){return new Pt(Fe(e),e)}function nn(e,t,n){t===void 0&&(t=Co);const[r,o]=i.useState(null);function s(){o(l=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=l??n)!=null?u:null}const f=t(e);return JSON.stringify(l)===JSON.stringify(f)?l:f})}const a=So({callback(l){if(e)for(const u of l){const{type:f,target:p}=u;if(f==="childList"&&p instanceof HTMLElement&&p.contains(e)){s();break}}}}),c=yt({callback:s});return ue(()=>{s(),e?(c?.observe(e),a?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),a?.disconnect())},[e]),r}function Ro(e){const t=$t(e);return yn(e,t)}const rn=[];function Do(e){const t=i.useRef(e),n=tt(r=>e?r&&r!==rn&&e&&t.current&&e.parentNode===t.current.parentNode?r:xt(e):rn,[e]);return i.useEffect(()=>{t.current=e},[e]),n}function Eo(e){const[t,n]=i.useState(null),r=i.useRef(e),o=i.useCallback(s=>{const a=Et(s.target);a&&n(c=>c?(c.set(a,jt(a)),new Map(c)):null)},[]);return i.useEffect(()=>{const s=r.current;if(e!==s){a(s);const c=e.map(l=>{const u=Et(l);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,jt(u)]):null}).filter(l=>l!=null);n(c.length?new Map(c):null),r.current=e}return()=>{a(e),a(s)};function a(c){c.forEach(l=>{const u=Et(l);u?.removeEventListener("scroll",o)})}},[o,e]),i.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,a)=>ze(s,a),fe):Nn(e):fe,[e,t])}function on(e,t){t===void 0&&(t=[]);const n=i.useRef(null);return i.useEffect(()=>{n.current=null},t),i.useEffect(()=>{const r=e!==fe;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Qe(e,n.current):fe}function No(e){i.useEffect(()=>{if(!mt)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function ko(e,t){return i.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:s}=r;return n[o]=a=>{s(a,t)},n},{}),[e,t])}function jn(e){return i.useMemo(()=>e?Qr(e):null,[e])}const sn=[];function Oo(e,t){t===void 0&&(t=Fe);const[n]=e,r=jn(n?G(n):null),[o,s]=i.useState(sn);function a(){s(()=>e.length?e.map(l=>Dn(l)?r:new Pt(t(l),l)):sn)}const c=yt({callback:a});return ue(()=>{c?.disconnect(),a(),e.forEach(l=>c?.observe(l))},[e]),o}function An(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return et(t)?t:e}function jo(e){let{measure:t}=e;const[n,r]=i.useState(null),o=i.useCallback(u=>{for(const{target:f}of u)if(et(f)){r(p=>{const b=t(f);return p?{...p,width:b.width,height:b.height}:b});break}},[t]),s=yt({callback:o}),a=i.useCallback(u=>{const f=An(u);s?.disconnect(),f&&s?.observe(f),r(f?t(f):null)},[t,s]),[c,l]=dt(a);return i.useMemo(()=>({nodeRef:c,rect:n,setRef:l}),[n,c,l])}const Ao=[{sensor:_t,options:{}},{sensor:Lt,options:{}}],Io={current:{}},lt={draggable:{measure:Jt},droppable:{measure:Jt,strategy:Ze.WhileDragging,frequency:It.Optimized},dragOverlay:{measure:Fe}};class Ge extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Mo={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ge,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:gt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:lt,measureDroppableContainers:gt,windowRect:null,measuringScheduled:!1},In={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:gt,draggableNodes:new Map,over:null,measureDroppableContainers:gt},rt=i.createContext(In),Mn=i.createContext(Mo);function To(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ge}}}function Po(e,t){switch(t.type){case $.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case $.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case $.DragEnd:case $.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case $.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Ge(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case $.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const a=new Ge(e.droppable.containers);return a.set(n,{...s,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case $.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new Ge(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function Lo(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=i.useContext(rt),s=ut(r),a=ut(n?.id);return i.useEffect(()=>{if(!t&&!r&&s&&a!=null){if(!bt(s)||document.activeElement===s.target)return;const c=o.get(a);if(!c)return;const{activatorNode:l,node:u}=c;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[l.current,u.current]){if(!f)continue;const p=jr(f);if(p){p.focus();break}}})}},[r,t,o,a,s]),null}function Tn(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,s)=>s({transform:o,...r}),n):n}function zo(e){return i.useMemo(()=>({draggable:{...lt.draggable,...e?.draggable},droppable:{...lt.droppable,...e?.droppable},dragOverlay:{...lt.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function _o(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const s=i.useRef(!1),{x:a,y:c}=typeof o=="boolean"?{x:o,y:o}:o;ue(()=>{if(!a&&!c||!t){s.current=!1;return}if(s.current||!r)return;const u=t?.node.current;if(!u||u.isConnected===!1)return;const f=n(u),p=yn(f,r);if(a||(p.x=0),c||(p.y=0),s.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const b=Sn(u);b&&b.scrollBy({top:p.y,left:p.x})}},[t,a,c,r,n])}const wt=i.createContext({...fe,scaleX:1,scaleY:1});var Oe;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Oe||(Oe={}));const $o=i.memo(function(t){var n,r,o,s;let{id:a,accessibility:c,autoScroll:l=!0,children:u,sensors:f=Ao,collisionDetection:p=Vr,measuring:b,modifiers:v,...k}=t;const w=i.useReducer(Po,void 0,To),[h,C]=w,[R,m]=Lr(),[x,S]=i.useState(Oe.Uninitialized),y=x===Oe.Initialized,{draggable:{active:N,nodes:D,translate:O},droppable:{containers:T}}=h,j=N!=null?D.get(N):null,B=i.useRef({initial:null,translated:null}),L=i.useMemo(()=>{var H;return N!=null?{id:N,data:(H=j?.data)!=null?H:Io,rect:B}:null},[N,j]),I=i.useRef(null),[P,X]=i.useState(null),[U,ye]=i.useState(null),re=Je(k,Object.values(k)),Y=nt("DndDescribedBy",a),Ae=i.useMemo(()=>T.getEnabled(),[T]),V=zo(b),{droppableRects:oe,measureDroppableContainers:ge,measuringScheduled:ie}=yo(Ae,{dragging:y,dependencies:[O.x,O.y],config:V.droppable}),W=bo(D,N),we=i.useMemo(()=>U?ft(U):null,[U]),pe=Qn(),ce=wo(W,V.draggable.measure);_o({activeNode:N!=null?D.get(N):null,config:pe.layoutShiftCompensation,initialRect:ce,measure:V.draggable.measure});const M=nn(W,V.draggable.measure,ce),he=nn(W?W.parentElement:null),Z=i.useRef({activatorEvent:null,active:null,activeNode:W,collisionRect:null,collisions:null,droppableRects:oe,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Se=T.getNodeFor((n=Z.current.over)==null?void 0:n.id),le=jo({measure:V.dragOverlay.measure}),Ce=(r=le.nodeRef.current)!=null?r:W,Re=y?(o=le.rect)!=null?o:M:null,ot=!!(le.nodeRef.current&&le.rect),st=Ro(ot?null:M),Be=jn(Ce?G(Ce):null),me=Do(y?Se??W:null),g=Oo(me),E=Tn(v,{transform:{x:O.x-st.x,y:O.y-st.y,scaleX:1,scaleY:1},activatorEvent:U,active:L,activeNodeRect:M,containerNodeRect:he,draggingNodeRect:Re,over:Z.current.over,overlayNodeRect:le.rect,scrollableAncestors:me,scrollableAncestorRects:g,windowRect:Be}),z=we?ze(we,O):null,J=Eo(me),Yn=on(J),Vn=on(J,[M]),Ie=ze(E,Yn),Me=Re?qr(Re,E):null,Xe=L&&Me?p({active:L,collisionRect:Me,droppableRects:oe,droppableContainers:Ae,pointerCoordinates:z}):null,Ft=bn(Xe,"id"),[De,Bt]=i.useState(null),Wn=ot?E:ze(E,Vn),Hn=Wr(Wn,(s=De?.rect)!=null?s:null,M),St=i.useRef(null),Xt=i.useCallback((H,ee)=>{let{sensor:te,options:Ee}=ee;if(I.current==null)return;const se=D.get(I.current);if(!se)return;const ne=H.nativeEvent,ve=new te({active:I.current,activeNode:se,event:ne,options:Ee,context:Z,onAbort(K){if(!D.get(K))return;const{onDragAbort:be}=re.current,xe={id:K};be?.(xe),R({type:"onDragAbort",event:xe})},onPending(K,Ne,be,xe){if(!D.get(K))return;const{onDragPending:Ue}=re.current,ke={id:K,constraint:Ne,initialCoordinates:be,offset:xe};Ue?.(ke),R({type:"onDragPending",event:ke})},onStart(K){const Ne=I.current;if(Ne==null)return;const be=D.get(Ne);if(!be)return;const{onDragStart:xe}=re.current,Ke={activatorEvent:ne,active:{id:Ne,data:be.data,rect:B}};We.unstable_batchedUpdates(()=>{xe?.(Ke),S(Oe.Initializing),C({type:$.DragStart,initialCoordinates:K,active:Ne}),R({type:"onDragStart",event:Ke}),X(St.current),ye(ne)})},onMove(K){C({type:$.DragMove,coordinates:K})},onEnd:Te($.DragEnd),onCancel:Te($.DragCancel)});St.current=ve;function Te(K){return async function(){const{active:be,collisions:xe,over:Ke,scrollAdjustedTranslate:Ue}=Z.current;let ke=null;if(be&&Ue){const{cancelDrop:Ye}=re.current;ke={activatorEvent:ne,active:be,collisions:xe,delta:Ue,over:Ke},K===$.DragEnd&&typeof Ye=="function"&&await Promise.resolve(Ye(ke))&&(K=$.DragCancel)}I.current=null,We.unstable_batchedUpdates(()=>{C({type:K}),S(Oe.Uninitialized),Bt(null),X(null),ye(null),St.current=null;const Ye=K===$.DragEnd?"onDragEnd":"onDragCancel";if(ke){const Ct=re.current[Ye];Ct?.(ke),R({type:Ye,event:ke})}})}}},[D]),qn=i.useCallback((H,ee)=>(te,Ee)=>{const se=te.nativeEvent,ne=D.get(Ee);if(I.current!==null||!ne||se.dndKit||se.defaultPrevented)return;const ve={active:ne};H(te,ee.options,ve)===!0&&(se.dndKit={capturedBy:ee.sensor},I.current=Ee,Xt(te,ee))},[D,Xt]),Kt=xo(f,qn);No(f),ue(()=>{M&&x===Oe.Initializing&&S(Oe.Initialized)},[M,x]),i.useEffect(()=>{const{onDragMove:H}=re.current,{active:ee,activatorEvent:te,collisions:Ee,over:se}=Z.current;if(!ee||!te)return;const ne={active:ee,activatorEvent:te,collisions:Ee,delta:{x:Ie.x,y:Ie.y},over:se};We.unstable_batchedUpdates(()=>{H?.(ne),R({type:"onDragMove",event:ne})})},[Ie.x,Ie.y]),i.useEffect(()=>{const{active:H,activatorEvent:ee,collisions:te,droppableContainers:Ee,scrollAdjustedTranslate:se}=Z.current;if(!H||I.current==null||!ee||!se)return;const{onDragOver:ne}=re.current,ve=Ee.get(Ft),Te=ve&&ve.rect.current?{id:ve.id,rect:ve.rect.current,data:ve.data,disabled:ve.disabled}:null,K={active:H,activatorEvent:ee,collisions:te,delta:{x:se.x,y:se.y},over:Te};We.unstable_batchedUpdates(()=>{Bt(Te),ne?.(K),R({type:"onDragOver",event:K})})},[Ft]),ue(()=>{Z.current={activatorEvent:U,active:L,activeNode:W,collisionRect:Me,collisions:Xe,droppableRects:oe,draggableNodes:D,draggingNode:Ce,draggingNodeRect:Re,droppableContainers:T,over:De,scrollableAncestors:me,scrollAdjustedTranslate:Ie},B.current={initial:Re,translated:Me}},[L,W,Xe,Me,D,Ce,Re,oe,T,De,me,Ie]),ho({...pe,delta:O,draggingRect:Me,pointerCoordinates:z,scrollableAncestors:me,scrollableAncestorRects:g});const Gn=i.useMemo(()=>({active:L,activeNode:W,activeNodeRect:M,activatorEvent:U,collisions:Xe,containerNodeRect:he,dragOverlay:le,draggableNodes:D,droppableContainers:T,droppableRects:oe,over:De,measureDroppableContainers:ge,scrollableAncestors:me,scrollableAncestorRects:g,measuringConfiguration:V,measuringScheduled:ie,windowRect:Be}),[L,W,M,U,Xe,he,le,D,T,oe,De,ge,me,g,V,ie,Be]),Jn=i.useMemo(()=>({activatorEvent:U,activators:Kt,active:L,activeNodeRect:M,ariaDescribedById:{draggable:Y},dispatch:C,draggableNodes:D,over:De,measureDroppableContainers:ge}),[U,Kt,L,M,C,Y,D,De,ge]);return _.createElement(vn.Provider,{value:m},_.createElement(rt.Provider,{value:Jn},_.createElement(Mn.Provider,{value:Gn},_.createElement(wt.Provider,{value:Hn},u)),_.createElement(Lo,{disabled:c?.restoreFocus===!1})),_.createElement($r,{...c,hiddenTextDescribedById:Y}));function Qn(){const H=P?.autoScrollEnabled===!1,ee=typeof l=="object"?l.enabled===!1:l===!1,te=y&&!H&&!ee;return typeof l=="object"?{...l,enabled:te}:{enabled:te}}}),Fo=i.createContext(null),an="button",Bo="Draggable";function Xo(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const s=nt(Bo),{activators:a,activatorEvent:c,active:l,activeNodeRect:u,ariaDescribedById:f,draggableNodes:p,over:b}=i.useContext(rt),{role:v=an,roleDescription:k="draggable",tabIndex:w=0}=o??{},h=l?.id===t,C=i.useContext(h?wt:Fo),[R,m]=dt(),[x,S]=dt(),y=ko(a,t),N=Je(n);ue(()=>(p.set(t,{id:t,key:s,node:R,activatorNode:x,data:N}),()=>{const O=p.get(t);O&&O.key===s&&p.delete(t)}),[p,t]);const D=i.useMemo(()=>({role:v,tabIndex:w,"aria-disabled":r,"aria-pressed":h&&v===an?!0:void 0,"aria-roledescription":k,"aria-describedby":f.draggable}),[r,v,w,h,k,f.draggable]);return{active:l,activatorEvent:c,activeNodeRect:u,attributes:D,isDragging:h,listeners:r?void 0:y,node:R,over:b,setNodeRef:m,setActivatorNodeRef:S,transform:C}}function Pn(){return i.useContext(Mn)}const Ko="Droppable",Uo={timeout:25};function Ln(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const s=nt(Ko),{active:a,dispatch:c,over:l,measureDroppableContainers:u}=i.useContext(rt),f=i.useRef({disabled:n}),p=i.useRef(!1),b=i.useRef(null),v=i.useRef(null),{disabled:k,updateMeasurementsFor:w,timeout:h}={...Uo,...o},C=Je(w??r),R=i.useCallback(()=>{if(!p.current){p.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{u(Array.isArray(C.current)?C.current:[C.current]),v.current=null},h)},[h]),m=yt({callback:R,disabled:k||!a}),x=i.useCallback((D,O)=>{m&&(O&&(m.unobserve(O),p.current=!1),D&&m.observe(D))},[m]),[S,y]=dt(x),N=Je(t);return i.useEffect(()=>{!m||!S.current||(m.disconnect(),p.current=!1,m.observe(S.current))},[S,m]),i.useEffect(()=>(c({type:$.RegisterDroppable,element:{id:r,key:s,disabled:n,node:S,rect:b,data:N}}),()=>c({type:$.UnregisterDroppable,key:s,id:r})),[r]),i.useEffect(()=>{n!==f.current.disabled&&(c({type:$.SetDroppableDisabled,id:r,key:s,disabled:n}),f.current.disabled=n)},[r,s,n,c]),{active:a,rect:b,isOver:l?.id===r,node:S,over:l,setNodeRef:y}}function Yo(e){let{animation:t,children:n}=e;const[r,o]=i.useState(null),[s,a]=i.useState(null),c=ut(n);return!n&&!r&&c&&o(c),ue(()=>{if(!s)return;const l=r?.key,u=r?.props.id;if(l==null||u==null){o(null);return}Promise.resolve(t(u,s)).then(()=>{o(null)})},[t,r,s]),_.createElement(_.Fragment,null,n,r?i.cloneElement(r,{ref:a}):null)}const Vo={x:0,y:0,scaleX:1,scaleY:1};function Wo(e){let{children:t}=e;return _.createElement(rt.Provider,{value:In},_.createElement(wt.Provider,{value:Vo},t))}const Ho={position:"fixed",touchAction:"none"},qo=e=>bt(e)?"transform 250ms ease":void 0,Go=i.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:o,children:s,className:a,rect:c,style:l,transform:u,transition:f=qo}=e;if(!c)return null;const p=o?u:{...u,scaleX:1,scaleY:1},b={...Ho,width:c.width,height:c.height,top:c.top,left:c.left,transform:je.Transform.toString(p),transformOrigin:o&&r?Xr(r,c):void 0,transition:typeof f=="function"?f(r):f,...l};return _.createElement(n,{className:a,style:b,ref:t},s)}),Jo=e=>t=>{let{active:n,dragOverlay:r}=t;const o={},{styles:s,className:a}=e;if(s!=null&&s.active)for(const[c,l]of Object.entries(s.active))l!==void 0&&(o[c]=n.node.style.getPropertyValue(c),n.node.style.setProperty(c,l));if(s!=null&&s.dragOverlay)for(const[c,l]of Object.entries(s.dragOverlay))l!==void 0&&r.node.style.setProperty(c,l);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[l,u]of Object.entries(o))n.node.style.setProperty(l,u);a!=null&&a.active&&n.node.classList.remove(a.active)}},Qo=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:je.Transform.toString(t)},{transform:je.Transform.toString(n)}]},Zo={duration:250,easing:"ease",keyframes:Qo,sideEffects:Jo({styles:{active:{opacity:"0"}}})};function es(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:o}=e;return vt((s,a)=>{if(t===null)return;const c=n.get(s);if(!c)return;const l=c.node.current;if(!l)return;const u=An(a);if(!u)return;const{transform:f}=G(a).getComputedStyle(a),p=wn(f);if(!p)return;const b=typeof t=="function"?t:ts(t);return kn(l,o.draggable.measure),b({active:{id:s,data:c.data,node:l,rect:o.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:a,rect:o.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:o,transform:p})})}function ts(e){const{duration:t,easing:n,sideEffects:r,keyframes:o}={...Zo,...e};return s=>{let{active:a,dragOverlay:c,transform:l,...u}=s;if(!t)return;const f={x:c.rect.left-a.rect.left,y:c.rect.top-a.rect.top},p={scaleX:l.scaleX!==1?a.rect.width*l.scaleX/c.rect.width:1,scaleY:l.scaleY!==1?a.rect.height*l.scaleY/c.rect.height:1},b={x:l.x-f.x,y:l.y-f.y,...p},v=o({...u,active:a,dragOverlay:c,transform:{initial:l,final:b}}),[k]=v,w=v[v.length-1];if(JSON.stringify(k)===JSON.stringify(w))return;const h=r?.({active:a,dragOverlay:c,...u}),C=c.node.animate(v,{duration:t,easing:n,fill:"forwards"});return new Promise(R=>{C.onfinish=()=>{h?.(),R()}})}}let cn=0;function ns(e){return i.useMemo(()=>{if(e!=null)return cn++,cn},[e])}const rs=_.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:o,transition:s,modifiers:a,wrapperElement:c="div",className:l,zIndex:u=999}=e;const{activatorEvent:f,active:p,activeNodeRect:b,containerNodeRect:v,draggableNodes:k,droppableContainers:w,dragOverlay:h,over:C,measuringConfiguration:R,scrollableAncestors:m,scrollableAncestorRects:x,windowRect:S}=Pn(),y=i.useContext(wt),N=ns(p?.id),D=Tn(a,{activatorEvent:f,active:p,activeNodeRect:b,containerNodeRect:v,draggingNodeRect:h.rect,over:C,overlayNodeRect:h.rect,scrollableAncestors:m,scrollableAncestorRects:x,transform:y,windowRect:S}),O=$t(b),T=es({config:r,draggableNodes:k,droppableContainers:w,measuringConfiguration:R}),j=O?h.setRef:void 0;return _.createElement(Wo,null,_.createElement(Yo,{animation:T},p&&N?_.createElement(Go,{key:N,id:p.id,ref:j,as:c,activatorEvent:f,adjustScale:t,className:l,transition:s,rect:O,style:{zIndex:u,...o},transform:D},n):null))});function zn(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function os(e,t){return e.reduce((n,r,o)=>{const s=t.get(r);return s&&(n[o]=s),n},Array(e.length))}function it(e){return e!==null&&e>=0}function ss(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function as(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const _n=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const s=zn(t,r,n),a=t[o],c=s[o];return!c||!a?null:{x:c.left-a.left,y:c.top-a.top,scaleX:c.width/a.width,scaleY:c.height/a.height}},ct={scaleX:1,scaleY:1},is=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:s,overIndex:a}=e;const c=(t=s[n])!=null?t:r;if(!c)return null;if(o===n){const u=s[a];return u?{x:0,y:n<a?u.top+u.height-(c.top+c.height):u.top-c.top,...ct}:null}const l=cs(s,o,n);return o>n&&o<=a?{x:0,y:-c.height-l,...ct}:o<n&&o>=a?{x:0,y:c.height+l,...ct}:{x:0,y:0,...ct}};function cs(e,t,n){const r=e[t],o=e[t-1],s=e[t+1];return r?n<t?o?r.top-(o.top+o.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const $n="Sortable",Fn=_.createContext({activeIndex:-1,containerId:$n,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:_n,disabled:{draggable:!1,droppable:!1}});function ls(e){let{children:t,id:n,items:r,strategy:o=_n,disabled:s=!1}=e;const{active:a,dragOverlay:c,droppableRects:l,over:u,measureDroppableContainers:f}=Pn(),p=nt($n,n),b=c.rect!==null,v=i.useMemo(()=>r.map(y=>typeof y=="object"&&"id"in y?y.id:y),[r]),k=a!=null,w=a?v.indexOf(a.id):-1,h=u?v.indexOf(u.id):-1,C=i.useRef(v),R=!ss(v,C.current),m=h!==-1&&w===-1||R,x=as(s);ue(()=>{R&&k&&f(v)},[R,v,k,f]),i.useEffect(()=>{C.current=v},[v]);const S=i.useMemo(()=>({activeIndex:w,containerId:p,disabled:x,disableTransforms:m,items:v,overIndex:h,useDragOverlay:b,sortedRects:os(v,l),strategy:o}),[w,p,x.draggable,x.droppable,m,v,h,l,b,o]);return _.createElement(Fn.Provider,{value:S},t)}const ds=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return zn(n,r,o).indexOf(t)},us=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:s,newIndex:a,previousItems:c,previousContainerId:l,transition:u}=e;return!u||!r||c!==s&&o===a?!1:n?!0:a!==o&&t===l},fs={duration:200,easing:"ease"},Bn="transform",gs=je.Transition.toString({property:Bn,duration:0,easing:"linear"}),ps={roleDescription:"sortable"};function hs(e){let{disabled:t,index:n,node:r,rect:o}=e;const[s,a]=i.useState(null),c=i.useRef(n);return ue(()=>{if(!t&&n!==c.current&&r.current){const l=o.current;if(l){const u=Fe(r.current,{ignoreTransform:!0}),f={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(f.x||f.y)&&a(f)}}n!==c.current&&(c.current=n)},[t,n,r,o]),i.useEffect(()=>{s&&a(null)},[s]),s}function ms(e){let{animateLayoutChanges:t=us,attributes:n,disabled:r,data:o,getNewIndex:s=ds,id:a,strategy:c,resizeObserverConfig:l,transition:u=fs}=e;const{items:f,containerId:p,activeIndex:b,disabled:v,disableTransforms:k,sortedRects:w,overIndex:h,useDragOverlay:C,strategy:R}=i.useContext(Fn),m=vs(r,v),x=f.indexOf(a),S=i.useMemo(()=>({sortable:{containerId:p,index:x,items:f},...o}),[p,o,x,f]),y=i.useMemo(()=>f.slice(f.indexOf(a)),[f,a]),{rect:N,node:D,isOver:O,setNodeRef:T}=Ln({id:a,data:S,disabled:m.droppable,resizeObserverConfig:{updateMeasurementsFor:y,...l}}),{active:j,activatorEvent:B,activeNodeRect:L,attributes:I,setNodeRef:P,listeners:X,isDragging:U,over:ye,setActivatorNodeRef:re,transform:Y}=Xo({id:a,data:S,attributes:{...ps,...n},disabled:m.draggable}),Ae=Er(T,P),V=!!j,oe=V&&!k&&it(b)&&it(h),ge=!C&&U,ie=ge&&oe?Y:null,we=oe?ie??(c??R)({rects:w,activeNodeRect:L,activeIndex:b,overIndex:h,index:x}):null,pe=it(b)&&it(h)?s({id:a,items:f,activeIndex:b,overIndex:h}):x,ce=j?.id,M=i.useRef({activeId:ce,items:f,newIndex:pe,containerId:p}),he=f!==M.current.items,Z=t({active:j,containerId:p,isDragging:U,isSorting:V,id:a,index:x,items:f,newIndex:M.current.newIndex,previousItems:M.current.items,previousContainerId:M.current.containerId,transition:u,wasDragging:M.current.activeId!=null}),Se=hs({disabled:!Z,index:x,node:D,rect:N});return i.useEffect(()=>{V&&M.current.newIndex!==pe&&(M.current.newIndex=pe),p!==M.current.containerId&&(M.current.containerId=p),f!==M.current.items&&(M.current.items=f)},[V,pe,p,f]),i.useEffect(()=>{if(ce===M.current.activeId)return;if(ce!=null&&M.current.activeId==null){M.current.activeId=ce;return}const Ce=setTimeout(()=>{M.current.activeId=ce},50);return()=>clearTimeout(Ce)},[ce]),{active:j,activeIndex:b,attributes:I,data:S,rect:N,index:x,newIndex:pe,items:f,isOver:O,isSorting:V,isDragging:U,listeners:X,node:D,overIndex:h,over:ye,setNodeRef:Ae,setActivatorNodeRef:re,setDroppableNodeRef:T,setDraggableNodeRef:P,transform:Se??we,transition:le()};function le(){if(Se||he&&M.current.newIndex===x)return gs;if(!(ge&&!bt(B)||!u)&&(V||Z))return je.Transition.toString({...u,property:Bn})}}function vs(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}function ht(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const bs=[A.Down,A.Right,A.Up,A.Left],xs=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:s,over:a,scrollableAncestors:c}}=t;if(bs.includes(e.code)){if(e.preventDefault(),!n||!r)return;const l=[];s.getEnabled().forEach(p=>{if(!p||p!=null&&p.disabled)return;const b=o.get(p.id);if(b)switch(e.code){case A.Down:r.top<b.top&&l.push(p);break;case A.Up:r.top>b.top&&l.push(p);break;case A.Left:r.left>b.left&&l.push(p);break;case A.Right:r.left<b.left&&l.push(p);break}});const u=xn({collisionRect:r,droppableRects:o,droppableContainers:l});let f=bn(u,"id");if(f===a?.id&&u.length>1&&(f=u[1].id),f!=null){const p=s.get(n.id),b=s.get(f),v=b?o.get(b.id):null,k=b?.node.current;if(k&&v&&p&&b){const h=xt(k).some((y,N)=>c[N]!==y),C=Xn(p,b),R=ys(p,b),m=h||!C?{x:0,y:0}:{x:R?r.width-v.width:0,y:R?r.height-v.height:0},x={x:v.left,y:v.top};return m.x&&m.y?x:Qe(x,m)}}}};function Xn(e,t){return!ht(e)||!ht(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function ys(e,t){return!ht(e)||!ht(t)||!Xn(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Le=[{id:"pending",label:"Recebido",color:"bg-gray-50 border-gray-300",headerColor:"bg-gray-500",icon:tr,aliases:["pendente","received"],description:"Pedido recebido, aguardando aÃ§Ã£o"},{id:"processing",label:"Processando",color:"bg-amber-50 border-amber-300",headerColor:"bg-amber-500",icon:ln,aliases:["awaiting_payment","payment_pending"],description:"Pagamento em processamento"},{id:"confirmed",label:"Confirmado",color:"bg-blue-50 border-blue-200",headerColor:"bg-blue-500",icon:Ut,aliases:["confirmado","aprovado","paid","payment_confirmed"],description:"Pagamento confirmado - Pronto para produÃ§Ã£o"},{id:"preparing",label:"Preparando",color:"bg-orange-50 border-orange-200",headerColor:"bg-orange-500",icon:nr,aliases:["preparando","in_production"],description:"Em produÃ§Ã£o na cozinha"},{id:"ready",label:"Pronto",color:"bg-purple-50 border-purple-200",headerColor:"bg-purple-500",icon:Ut,aliases:["pronto","ready_for_pickup","ready_for_delivery"],description:"Pronto para entrega/retirada"},{id:"out_for_delivery",label:"Em Entrega",color:"bg-indigo-50 border-indigo-200",headerColor:"bg-indigo-500",icon:dn,aliases:["shipped","enviado","em_entrega","delivering"],description:"Saiu para entrega"},{id:"delivered",label:"Entregue",color:"bg-green-50 border-green-200",headerColor:"bg-green-500",icon:rr,aliases:["entregue","completed"],description:"Pedido finalizado"},{id:"cancelled",label:"Cancelado",color:"bg-red-50 border-red-200",headerColor:"bg-red-500",icon:or,aliases:["cancelado","refunded","failed"],description:"Pedido cancelado"}],Ot=e=>{const t=e.toLowerCase();for(const n of Le)if(n.id===t||n.aliases.includes(t))return n.id;return"pending"},ws=e=>(typeof e=="string"?Number(e):e??0).toLocaleString("pt-BR",{minimumFractionDigits:2}),Ss=e=>e.items_count??e.items?.length??0,Cs=e=>{if(!e)return null;if(typeof e=="string")return e;const t=e;return[t.street||t.rua||t.logradouro,t.number||t.numero,t.complement||t.complemento,t.neighborhood||t.bairro,t.city||t.cidade,t.state||t.estado].filter(Boolean).join(", ")},Rs=({order:e,onClick:t,isUpdating:n,isSuccess:r})=>{const{attributes:o,listeners:s,setNodeRef:a,transform:c,transition:l,isDragging:u}=ms({id:e.id}),f={transform:je.Transform.toString(c),transition:l,opacity:u?.5:1};return d.jsx("div",{ref:a,style:f,...o,...s,children:d.jsx(Kn,{order:e,onClick:t,isDragging:u,isUpdating:n,isSuccess:r})})},Ds=({paymentStatus:e,paymentMethod:t})=>{const n={pending:{label:"Aguardando",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300",icon:"ðŸ’³"},processing:{label:"Processando",color:"bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300",icon:"â³"},paid:{label:"Pago",color:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300",icon:"âœ…"},failed:{label:"Falhou",color:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300",icon:"âŒ"},refunded:{label:"Reembolsado",color:"bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300",icon:"â†©ï¸"},partially_refunded:{label:"Reembolso Parcial",color:"bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300",icon:"â†©ï¸"}},r=e?.toLowerCase()||"pending",o=n[r]||n.pending,s=t?.toLowerCase()==="cash"||t?.toLowerCase()==="dinheiro";return d.jsxs("span",{className:`inline-flex items-center gap-1 text-xs px-2 py-0.5 rounded-full font-medium ${o.color}`,children:[d.jsx("span",{children:o.icon}),d.jsx("span",{children:s&&r==="pending"?"Dinheiro":o.label})]})},Kn=({order:e,onClick:t,isDragging:n,isUpdating:r,isSuccess:o})=>{const s=e.payment_status||(["paid","confirmed"].includes(e.status?.toLowerCase?.()||"")?"paid":void 0);return d.jsxs("div",{className:`
        bg-white dark:bg-zinc-900 rounded-lg shadow-sm border-2 p-3 mb-2 cursor-pointer
        transition-all duration-300 hover:shadow-md hover:border-primary-300 dark:hover:border-primary-500
        ${n?"shadow-lg ring-2 ring-primary-500 scale-105":""}
        ${r?"opacity-70 border-primary-300":""}
        ${o?"border-green-400 bg-green-50 dark:bg-green-900/30 animate-pulse":"border-gray-100 dark:border-zinc-800"}
      `,onClick:()=>!r&&t?.(e),children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("span",{className:"font-bold text-gray-900 dark:text-white text-sm",children:["#",e.order_number]}),d.jsxs("div",{className:"flex items-center gap-2",children:[r&&d.jsx(fn,{className:"w-4 h-4 text-primary-500 animate-spin"}),o&&d.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[d.jsx(un,{className:"w-4 h-4"}),d.jsx("span",{className:"text-xs font-medium",children:"Movido!"})]}),!r&&!o&&d.jsx("span",{className:"text-xs text-gray-500 dark:text-zinc-400",children:pn(new Date(e.created_at),"HH:mm",{locale:gn})})]})]}),d.jsx("div",{className:"mb-2",children:d.jsx(Ds,{paymentStatus:s,paymentMethod:e.payment_method})}),d.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[d.jsx(sr,{className:"w-3.5 h-3.5 text-gray-400 dark:text-gray-500"}),d.jsx("span",{className:"text-sm text-gray-700 dark:text-zinc-300 truncate",children:e.customer_name||"Cliente"})]}),e.customer_phone&&d.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[d.jsx(ar,{className:"w-3.5 h-3.5 text-gray-400 dark:text-gray-500"}),d.jsx("span",{className:"text-xs text-gray-500 dark:text-zinc-400",children:e.customer_phone})]}),e.delivery_address&&d.jsxs("div",{className:"flex items-start gap-1.5 mb-2",children:[d.jsx(ir,{className:"w-3.5 h-3.5 text-gray-400 dark:text-gray-500 mt-0.5"}),d.jsx("span",{className:"text-xs text-gray-500 dark:text-zinc-400 line-clamp-2",children:Cs(e.delivery_address)||"EndereÃ§o nÃ£o informado"})]}),d.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-gray-100 dark:border-zinc-800",children:[d.jsxs("span",{className:"text-xs text-gray-500 dark:text-zinc-400",children:[Ss(e)," item(ns)"]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(ln,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),d.jsxs("span",{className:"font-bold text-green-600 dark:text-green-400",children:["R$ ",ws(e.total)]})]})]}),e.store_name&&d.jsx("div",{className:"mt-2",children:d.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-zinc-300 rounded-full",children:e.store_name})})]})},Es=({status:e,orders:t,onOrderClick:n,updatingOrders:r,successOrders:o})=>{const s=e.icon,{setNodeRef:a,isOver:c}=Ln({id:e.id});return d.jsxs("div",{ref:a,className:`
        flex flex-col min-w-[280px] max-w-[320px] rounded-xl border-2 transition-all duration-300
        ${e.color} dark:bg-zinc-900/50 dark:border-zinc-800
        ${c?"ring-2 ring-primary-500 ring-offset-2 dark:ring-offset-gray-900 scale-[1.02] border-primary-400 shadow-lg":""}
      `,children:[d.jsx("div",{className:`${e.headerColor} text-white px-4 py-3 rounded-t-xl`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(s,{className:"w-5 h-5"}),d.jsx("span",{className:"font-semibold",children:e.label})]}),d.jsx("span",{className:"bg-white/20 px-2.5 py-1 rounded-full text-xs font-bold min-w-[28px] text-center",children:t.length})]})}),d.jsx("div",{className:`
        flex-1 p-3 overflow-y-auto max-h-[calc(100vh-280px)] min-h-[200px]
        transition-all duration-300
        ${c?"bg-primary-50/50 dark:bg-primary-900/20":""}
      `,children:d.jsx(ls,{items:t.map(l=>l.id),strategy:is,children:t.length===0?d.jsx("div",{className:`
              text-center py-8 text-sm border-2 border-dashed rounded-xl
              transition-all duration-300
              ${c?"border-primary-400 text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/30 scale-105":"border-gray-200 dark:border-zinc-700 text-gray-400 dark:text-gray-500"}
            `,children:c?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(un,{className:"w-6 h-6"}),d.jsx("span",{children:"Solte aqui"})]}):"Nenhum pedido"}):t.map(l=>d.jsx(Rs,{order:l,onClick:n,isUpdating:r?.has(l.id),isSuccess:o?.has(l.id)},l.id))})})]})},Ns=6e4,ks=({orders:e,onOrderClick:t,onStatusChange:n,visibleStatuses:r})=>{const[o,s]=i.useState(null),[a,c]=i.useState(new Map),[l,u]=i.useState(new Set);i.useEffect(()=>{const m=Date.now();c(x=>{const S=new Map(x);let y=!1;for(const[N,D]of x.entries()){if(!D.isConfirmed)continue;const O=e.find(T=>T.id===N);if(!O){S.delete(N),y=!0;continue}O.status===D.status?(S.delete(N),y=!0,console.log(`[Kanban] External synced for ${N}: ${D.status}`)):m-D.timestamp>Ns&&console.log(`[Kanban] TTL expired but keeping local state for ${N} (external: ${O.status}, local: ${D.status})`)}return y?S:x})},[e]);const f=i.useMemo(()=>e.map(m=>{const x=a.get(m.id);return x&&(x.isPending||x.isConfirmed)?{...m,status:x.status}:m}),[e,a]),p=i.useMemo(()=>{const m=new Set;return a.forEach((x,S)=>{x.isPending&&m.add(S)}),m},[a]),b=Fr(qt(_t,{activationConstraint:{distance:8}}),qt(Lt,{coordinateGetter:xs})),v=i.useMemo(()=>{const m={};return Le.forEach(x=>{m[x.id]=[]}),f.forEach(x=>{const S=Ot(x.status);m[S]?m[S].push(x):m.pending.push(x)}),Object.keys(m).forEach(x=>{m[x].sort((S,y)=>new Date(y.created_at).getTime()-new Date(S.created_at).getTime())}),m},[f]),k=i.useMemo(()=>!r||r.length===0?Le.filter(m=>!["cancelled","delivered"].includes(m.id)):Le.filter(m=>r.includes(m.id)),[r]),w=i.useMemo(()=>o&&f.find(m=>m.id===o)||null,[o,f]),h=i.useCallback(m=>{for(const[x,S]of Object.entries(v))if(S.some(y=>y.id===m))return x;return null},[v]),C=m=>{s(m.active.id)},R=async m=>{const{active:x,over:S}=m;if(s(null),!S)return;const y=x.id,N=S.id,D=h(y);let O=null;if(Le.some(I=>I.id===N)?O=N:O=h(N),!D||!O){console.log("Invalid drag: source or dest column not found");return}if(D===O){console.log("Same column, no change needed");return}console.log(`[Kanban] Moving order ${y} from ${D} to ${O}`);const B=f.find(I=>I.id===y)?.status||Ot(D||"pending"),L=Ot(O);if(c(I=>{const P=new Map(I);return P.set(y,{status:L,originalStatus:B,timestamp:Date.now(),isPending:!0,isConfirmed:!1}),P}),n)try{await n(y,L),console.log(`[Kanban] âœ… Successfully updated order ${y} to ${L}`),c(I=>{const P=new Map(I),X=P.get(y);return X&&P.set(y,{...X,isPending:!1,isConfirmed:!0,timestamp:Date.now()}),P}),u(I=>new Set(I).add(y)),setTimeout(()=>{u(I=>{const P=new Set(I);return P.delete(y),P})},2e3)}catch(I){console.error("[Kanban] âŒ Failed to update order status:",I),c(P=>{const X=new Map(P);return X.delete(y),X})}else c(I=>{const P=new Map(I),X=P.get(y);return X&&P.set(y,{...X,isPending:!1,isConfirmed:!0}),P})};return d.jsxs($o,{sensors:b,collisionDetection:xn,onDragStart:C,onDragEnd:R,children:[d.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 px-1",children:k.map(m=>d.jsx(Es,{status:m,orders:v[m.id]||[],onOrderClick:t,updatingOrders:p,successOrders:l},m.id))}),d.jsx(rs,{children:w?d.jsx("div",{className:"rotate-2 scale-105 shadow-2xl",children:d.jsx(Kn,{order:w,isDragging:!0})}):null})]})},Os=["pending","processing","confirmed","paid","preparing","ready","shipped","out_for_delivery","delivered","completed","cancelled","refunded","failed"],Un=e=>Os.includes(String(e)),js=e=>["pending","processing","paid","failed","refunded","partially_refunded"].includes(String(e)),Ve=e=>{if(e!=null){if(typeof e=="number")return e;if(typeof e=="string"&&e.trim()!=="")return Number(e)}},As=e=>{const t={};typeof e.order_number=="string"&&(t.order_number=e.order_number),Un(e.status)&&(t.status=e.status),js(e.payment_status)&&(t.payment_status=e.payment_status);const n=Ve(e.total);n!==void 0&&(t.total=n);const r=Ve(e.subtotal);r!==void 0&&(t.subtotal=r);const o=Ve(e.discount);o!==void 0&&(t.discount=o);const s=Ve(e.delivery_fee);s!==void 0&&(t.delivery_fee=s);const a=Ve(e.tax);return a!==void 0&&(t.tax=a),t},Is=e=>(typeof e=="string"?Number(e):e??0).toLocaleString("pt-BR",{minimumFractionDigits:2}),Fs=()=>{const e=Zn(),{storeId:t}=er(),{storeId:n,storeSlug:r,storeName:o,stores:s}=cr(),a=t||r||n,c=i.useMemo(()=>{if(!t)return r||n||null;const g=s.find(E=>E.id===t||E.slug===t);return g?.slug||g?.id||t},[t,r,n,s]),l=c||a,u=i.useCallback(g=>l?`/stores/${l}/orders/${g}`:"/stores",[l]),[f,p]=i.useState([]),[b,v]=i.useState(!0),[k,w]=i.useState(null),[h,C]=i.useState(""),[R,m]=i.useState(!1),[x,S]=i.useState("kanban"),[y,N]=i.useState(!1),[D,O]=i.useState(null),[T,j]=i.useState(null),[B,L]=i.useState(!1),[I,P]=i.useState({tracking_code:"",carrier:""}),[X,U]=i.useState({payment_reference:""}),[ye,re]=i.useState({reason:""}),Y=i.useCallback(async()=>{console.log("[Orders] loadOrders called with storeId:",a),v(!0);try{const g={};c&&(g.store=c),k&&(g.status=k),h&&(g.search=h),console.log("[Orders] Fetching orders with params:",g);const E=await Q.getOrders(g);console.log("[Orders] Received",E.results.length,"orders"),p(E.results)}catch(g){console.error("[Orders] Error loading orders:",g),q.error(Pe(g))}finally{v(!1)}},[a,c,k,h]),{playOrderSound:Ae,playSuccessSound:V,stopAlert:oe,isAlertActive:ge}=Dr({enabled:!0}),ie=i.useRef(void 0),W=i.useRef(0);i.useCallback(()=>{if(Date.now()-W.current<3e3){console.log("[Orders] Skipping refresh - too soon");return}ie.current&&window.clearTimeout(ie.current),ie.current=window.setTimeout(()=>{W.current=Date.now(),Y()},1e3)},[Y]);const{isConnected:we,connectionError:pe}=Rr({onOrderCreated:g=>{console.log("[Orders] New order received:",g),Ae(),q.success(`ðŸŽ‰ Novo pedido #${g.order_number||g.order_id?.toString().slice(0,8)}!`,{duration:6e3,icon:"ðŸ›’"}),W.current=0,Y()},onOrderUpdated:g=>{console.log("[Orders] Order updated:",g);const E=As(g);p(z=>z.map(J=>J.id===g.order_id?{...J,...E}:J))},onStatusChanged:g=>{console.log("[Orders] Status changed:",g),q(`ðŸ“¦ Pedido #${g.order_number} â†’ ${g.status}`,{duration:4e3});const E=Un(g.status)?g.status:void 0;p(z=>z.map(J=>J.id===g.order_id?{...J,status:E||J.status}:J))},onPaymentReceived:g=>{console.log("[Orders] Payment received:",g),V(),q.success(`ðŸ’° Pagamento confirmado - #${g.order_number||g.order_id?.toString().slice(0,8)}!`,{duration:6e3}),p(E=>E.map(z=>z.id===g.order_id?{...z,payment_status:"paid"}:z))},enabled:!0});i.useEffect(()=>{if(ge){const g=()=>oe();return document.addEventListener("click",g,{once:!0}),()=>document.removeEventListener("click",g)}},[ge,oe]),i.useEffect(()=>(Y(),()=>{ie.current&&window.clearTimeout(ie.current)}),[Y]);const ce=async(g,E)=>{switch(E){case"confirmed":await Q.confirmOrder(g);break;case"processing":await Q.startProcessing(g);break;case"preparing":await Q.startPreparing(g);break;case"ready":await Q.markReady(g);break;case"out_for_delivery":await Q.markOutForDelivery(g);break;case"delivered":await Q.deliverOrder(g);break;case"cancelled":await Q.cancelOrder(g,"Cancelado via Kanban");break;default:throw new Error(`Status nÃ£o suportado: ${E}`)}q.success("Status atualizado!")},M=i.useMemo(()=>{const g={};return f.forEach(E=>{g[E.status]=(g[E.status]||0)+1}),g},[f]),he=i.useMemo(()=>{if(!h)return f;const g=h.toLowerCase();return f.filter(E=>E.order_number.toLowerCase().includes(g)||E.customer_name?.toLowerCase().includes(g)||E.customer_phone?.includes(g)||E.customer_email?.toLowerCase().includes(g))},[f,h]),Z=async g=>{m(!0);try{const E=await Yt.exportOrders({format:g,status:k||void 0,store:c||void 0}),z=new Date().toISOString().slice(0,10);Yt.downloadBlob(E,`pedidos-${z}.${g}`),q.success("ExportaÃ§Ã£o concluÃ­da!")}catch(E){q.error(Pe(E))}finally{m(!1)}},Se=g=>{const E=[],z=g.status.toLowerCase();switch(z){case"pending":case"pendente":E.push({action:"confirm",label:"Confirmar",variant:"primary"});break;case"processing":E.push({action:"mark_paid",label:"Confirmar Pagamento",variant:"primary",icon:d.jsx(wr,{className:"w-4 h-4"})});break;case"confirmed":case"confirmado":case"aprovado":case"paid":E.push({action:"prepare",label:"Preparar",variant:"primary"});break;case"preparing":case"preparando":E.push({action:"ship",label:"Enviar",variant:"primary",icon:d.jsx(dn,{className:"w-4 h-4"})});break;case"shipped":case"enviado":case"out_for_delivery":E.push({action:"deliver",label:"Entregar",variant:"primary"});break}return["cancelled","cancelado","delivered","entregue","refunded","failed","completed"].includes(z)||E.push({action:"cancel",label:"Cancelar",variant:"danger",icon:d.jsx(Sr,{className:"w-4 h-4"})}),E},le=(g,E)=>{switch(O(g),E){case"ship":j("ship");break;case"mark_paid":j("payment");break;case"cancel":j("cancel");break;default:Ce(g,E)}},Ce=async(g,E)=>{L(!0);try{switch(E){case"confirm":await Q.confirmOrder(g.id);break;case"prepare":await Q.startPreparing(g.id);break;case"deliver":await Q.deliverOrder(g.id);break;default:throw new Error(`AÃ§Ã£o desconhecida: ${E}`)}q.success("Status atualizado!"),await Y()}catch(z){q.error(Pe(z))}finally{L(!1)}},Re=async g=>{if(g.preventDefault(),!!D){L(!0);try{await Q.shipOrder(D.id,I.tracking_code,I.carrier),q.success("Pedido marcado como enviado!"),j(null),O(null),P({tracking_code:"",carrier:""}),await Y()}catch(E){q.error(Pe(E))}finally{L(!1)}}},ot=async g=>{if(g.preventDefault(),!!D){L(!0);try{await Q.markPaid(D.id,X.payment_reference),q.success("Pagamento confirmado!"),j(null),O(null),U({payment_reference:""}),await Y()}catch(E){q.error(Pe(E))}finally{L(!1)}}},st=async g=>{if(g.preventDefault(),!!D){L(!0);try{await Q.cancelOrder(D.id,ye.reason),q.success("Pedido cancelado!"),j(null),O(null),re({reason:""}),await Y()}catch(E){q.error(Pe(E))}finally{L(!1)}}},Be=[{key:"order_number",header:"Pedido",render:g=>d.jsxs("div",{children:[d.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:["#",g.order_number]}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-zinc-400",children:pn(new Date(g.created_at),"dd/MM/yyyy HH:mm",{locale:gn})}),g.source&&d.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-zinc-400 rounded",children:g.source})]})},{key:"customer",header:"Cliente",render:g=>d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:g.customer_name||"-"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-zinc-400",children:g.customer_phone||"-"})]})},{key:"items",header:"Itens",render:g=>d.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[g.items_count??g.items?.length??0," item(ns)"]})},{key:"total",header:"Total",render:g=>d.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:["R$ ",Is(g.total)]})},{key:"status",header:"Status",render:g=>d.jsx(yr,{status:g.status})},{key:"actions",header:"AÃ§Ãµes",render:g=>{const E=Se(g);return d.jsx("div",{className:"flex items-center gap-2",children:E.slice(0,2).map(z=>d.jsx(de,{size:"sm",variant:z.variant||"secondary",leftIcon:z.icon,onClick:J=>{J.stopPropagation(),le(g,z.action)},children:z.label},z.action))})}}],me=i.useMemo(()=>y?Le.map(g=>g.id):["pending","processing","confirmed","preparing","ready","out_for_delivery","delivered"],[y]);return b?d.jsx(lr,{}):d.jsxs("div",{className:"h-full flex flex-col p-4 md:p-6",children:[d.jsx(dr,{title:"Pedidos",subtitle:`${he.length} pedido(s)${o?` - ${o}`:""}`,actions:d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-full text-xs font-medium ${we?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,title:we?"Conectado - AtualizaÃ§Ãµes em tempo real":pe||"Desconectado",children:we?d.jsxs(d.Fragment,{children:[d.jsx(ur,{className:"w-3.5 h-3.5"}),d.jsx("span",{className:"hidden sm:inline",children:"Ao vivo"})]}):d.jsxs(d.Fragment,{children:[d.jsx(fr,{className:"w-3.5 h-3.5"}),d.jsx("span",{className:"hidden sm:inline",children:"Offline"})]})}),d.jsx("button",{onClick:()=>{console.log("[Test] Playing test sound..."),Ae()},className:"px-2 py-1 text-xs bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300 rounded-full hover:bg-purple-200",title:"Testar som de notificaÃ§Ã£o",children:"ðŸ”Š Testar"}),d.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[d.jsx("button",{onClick:()=>S("kanban"),className:`p-1.5 rounded ${x==="kanban"?"bg-white dark:bg-gray-700 shadow-sm":"text-gray-500 dark:text-zinc-400 hover:text-gray-700 dark:hover:text-zinc-300"}`,title:"VisualizaÃ§Ã£o Kanban",children:d.jsx(gr,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>S("table"),className:`p-1.5 rounded ${x==="table"?"bg-white dark:bg-gray-700 shadow-sm":"text-gray-500 dark:text-zinc-400 hover:text-gray-700 dark:hover:text-zinc-300"}`,title:"VisualizaÃ§Ã£o em Lista",children:d.jsx(pr,{className:"w-5 h-5"})})]}),d.jsx(de,{variant:"secondary",size:"sm",onClick:Y,title:"Atualizar",children:d.jsx(fn,{className:"w-4 h-4"})}),x==="kanban"&&d.jsx(de,{variant:y?"primary":"secondary",size:"sm",onClick:()=>N(!y),title:"Mostrar todos os status",children:d.jsx(hr,{className:"w-4 h-4"})}),d.jsx(de,{variant:"secondary",size:"sm",onClick:()=>Z("csv"),isLoading:R,className:"hidden sm:inline-flex",children:"CSV"}),d.jsx(de,{variant:"secondary",size:"sm",onClick:()=>Z("xlsx"),isLoading:R,className:"hidden sm:inline-flex",children:"XLSX"})]})}),d.jsxs("div",{className:"flex-1 space-y-4 overflow-hidden",children:[d.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:d.jsxs("div",{className:"relative flex-1",children:[d.jsx(mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Buscar por nÃºmero, cliente, telefone...",value:h,onChange:g=>C(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-zinc-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),x==="kanban"&&d.jsx("div",{className:"flex-1 overflow-hidden",children:d.jsx(ks,{orders:he,onOrderClick:g=>e(u(g.id)),onStatusChange:ce,visibleStatuses:me})}),x==="table"&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"overflow-x-auto -mx-4 px-4 md:mx-0 md:px-0",children:d.jsx(vr,{value:k,onChange:w,counts:M})}),d.jsx(br,{children:he.length===0?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-500 dark:text-zinc-400",children:"Nenhum pedido encontrado"})}):d.jsx(xr,{columns:Be,data:he,keyExtractor:g=>g.id,onRowClick:g=>e(u(g.id))})})]})]}),d.jsx(Rt,{isOpen:T==="ship",onClose:()=>{j(null),O(null)},title:"Enviar Pedido",children:d.jsxs("form",{onSubmit:Re,className:"space-y-4",children:[d.jsx(at,{label:"CÃ³digo de Rastreio",value:I.tracking_code,onChange:g=>P({...I,tracking_code:g.target.value}),placeholder:"Ex: BR123456789BR"}),d.jsx(at,{label:"Transportadora",value:I.carrier,onChange:g=>P({...I,carrier:g.target.value}),placeholder:"Ex: Correios, Jadlog..."}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx(de,{type:"button",variant:"secondary",onClick:()=>{j(null),O(null)},children:"Cancelar"}),d.jsx(de,{type:"submit",isLoading:B,children:"Confirmar Envio"})]})]})}),d.jsx(Rt,{isOpen:T==="payment",onClose:()=>{j(null),O(null)},title:"Confirmar Pagamento",children:d.jsxs("form",{onSubmit:ot,className:"space-y-4",children:[d.jsx(at,{label:"ReferÃªncia do Pagamento",value:X.payment_reference,onChange:g=>U({...X,payment_reference:g.target.value}),placeholder:"Ex: PIX, TransferÃªncia..."}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx(de,{type:"button",variant:"secondary",onClick:()=>{j(null),O(null)},children:"Cancelar"}),d.jsx(de,{type:"submit",isLoading:B,children:"Confirmar Pagamento"})]})]})}),d.jsx(Rt,{isOpen:T==="cancel",onClose:()=>{j(null),O(null)},title:"Cancelar Pedido",children:d.jsxs("form",{onSubmit:st,className:"space-y-4",children:[d.jsx(at,{label:"Motivo do Cancelamento",value:ye.reason,onChange:g=>re({...ye,reason:g.target.value}),placeholder:"Informe o motivo...",required:!0}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx(de,{type:"button",variant:"secondary",onClick:()=>{j(null),O(null)},children:"Voltar"}),d.jsx(de,{type:"submit",variant:"danger",isLoading:B,children:"Confirmar Cancelamento"})]})]})})]})};export{Fs as OrdersPage,Fs as default};
