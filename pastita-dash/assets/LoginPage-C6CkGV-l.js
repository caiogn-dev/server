import{j as e}from"./vendor-charts-o9Lo7m6Z.js";import{e as p,r as i}from"./vendor-react-C2HNIXra.js";import{u as n,W as l,X as h,Y as b,T as f,R as c,Z as w}from"./feature-automation-CLWK1V5x.js";import"./vendor-utils-DaXQUBrP.js";import"./vendor-ui-B9rDAafI.js";import"./vendor-mui-DKuE-Kg_.js";const P=()=>{const m=p(),{setAuth:d}=n(),[u,r]=i.useState(!1),[t,o]=i.useState({email:"",password:""}),g=async s=>{s.preventDefault(),r(!0);try{const a=await b.login(t.email,t.password);console.debug("[LoginPage] login response",a),d(a.token,{id:a.user_id,email:a.email,first_name:a.first_name,last_name:a.last_name}),f(a.token),await new Promise(x=>setTimeout(x,100)),console.debug("[LoginPage] authStore token now=",n.getState().token),c.success("Login realizado com sucesso!"),m("/")}catch(a){c.error(w(a))}finally{r(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-black py-12 px-4 sm:px-6 lg:px-8 transition-colors",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:"/pastita-logo.svg",alt:"Pastita",className:"w-24 h-24 mx-auto mb-4"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Pastita"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-zinc-400",children:"Dashboard de Gerenciamento"})]}),e.jsxs("form",{className:"mt-8 space-y-6 bg-white dark:bg-zinc-900 p-8 rounded-xl shadow-sm border border-gray-100 dark:border-zinc-800",onSubmit:g,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(l,{label:"Usuário",type:"text",required:!0,value:t.email,onChange:s=>o({...t,email:s.target.value}),placeholder:"Digite seu e-mail"}),e.jsx(l,{label:"Senha",type:"password",required:!0,value:t.password,onChange:s=>o({...t,password:s.target.value}),placeholder:"Digite sua senha"})]}),e.jsx(h,{type:"submit",className:"w-full",isLoading:u,children:"Entrar"})]}),e.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-zinc-400",children:"Plataforma de gestão para restaurantes"})]})})};export{P as LoginPage};
